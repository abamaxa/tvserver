(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(3050)}])},3050:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return x}});var n=o(5893),l=o(7294),r=o(9008),s=o.n(r);class c{constructor(){this.collection="",this.parent_collection="",this.child_collections=[],this.videos=[],this.errors=[]}}let i=e=>{let t=e=>{let t="w-full px-4 py-2 border-gray-200 dark:border-gray-600";return e||(t+=" border-b"),t},o=e.entry.child_collections.length-1,l=e.entry.videos.length-1,r=e.entry.child_collections.map((r,s)=>{let c=t(s==o&&l<0);return(0,n.jsx)("li",{className:c,onClick:()=>e.setCurrentCollection(r),children:r},r)}),s=e.entry.videos.map((o,r)=>{let s=t(r==l)+" text-gray-500";return(0,n.jsx)("li",{className:s,onClick:()=>{e.playVideo(o),console.log(o)},children:o},o)});return(0,n.jsxs)("ul",{className:"text-sm font-medium text-gray-900 border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r,s]})};class a{constructor(e){this.playVideo=e=>{let t={method:"POST",body:JSON.stringify({collection:this.currentCollection,video:e}),headers:{"Content-Type":"application/json"}};fetch("http://coco:4000/play",t).then(e=>e.json()).then(e=>{console.log(e)}).catch(e=>{console.log(e),alert(e)})},this.executeCommand=e=>{let t={method:"POST",body:JSON.stringify({command:e}),headers:{"Content-Type":"application/json"}};fetch("http://coco:4000/remote",t).then(e=>e.json()).then(e=>{console.log(e)}).catch(e=>{console.log(e),alert(e)})},this.fetchCollection=()=>{let e=this.currentCollection?"http://coco:4000/videos/"+this.currentCollection:"http://coco:4000/collections";return fetch(e)},this.currentCollection=e}}let d=e=>(0,n.jsx)("button",{type:"button",className:"border rounded-full","aria-label":"Rewind 10 seconds",onClick:()=>e.onClick(),children:(0,n.jsx)("svg",{width:"72px",viewBox:"-6 -6 36 36",children:e.children})}),h=e=>(0,n.jsxs)("footer",{className:"flex h-24 w-full items-center justify-center border-t",children:[(0,n.jsx)("div",{className:"flex-auto flex items-center justify-evenly",children:(0,n.jsxs)(d,{ariaLabel:"Rewind 10 seconds",onClick:()=>e.executeCommand("seek -10"),children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fillOpacity:"0.0",d:"M6.492 16.95c2.861 2.733 7.5 2.733 10.362 0 2.861-2.734 2.861-7.166 0-9.9-2.862-2.733-7.501-2.733-10.362 0A7.096 7.096 0 0 0 5.5 8.226",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M5 5v3.111c0 .491.398.889.889.889H9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,n.jsx)("button",{type:"button",onClick:()=>e.executeCommand("pause"),className:"bg-white text-slate-900 dark:bg-slate-100 dark:text-slate-700 flex-none -my-2 mx-auto w-20 h-20 rounded-full ring-1 ring-slate-900/5 shadow-md flex items-center justify-center","aria-label":"Pause",children:(0,n.jsxs)("svg",{width:"30",height:"32",fill:"currentColor",children:[(0,n.jsx)("rect",{x:"6",y:"4",width:"4",height:"24",rx:"2"}),(0,n.jsx)("rect",{x:"20",y:"4",width:"4",height:"24",rx:"2"})]})}),(0,n.jsx)("div",{className:"flex-auto flex items-center justify-evenly",children:(0,n.jsxs)(d,{ariaLabel:"Skip 10 seconds",onClick:()=>e.executeCommand("seek +10"),children:[(0,n.jsx)("path",{fillOpacity:"0.0",d:"M17.509 16.95c-2.862 2.733-7.501 2.733-10.363 0-2.861-2.734-2.861-7.166 0-9.9 2.862-2.733 7.501-2.733 10.363 0 .38.365.711.759.991 1.176",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M19 5v3.111c0 .491-.398.889-.889.889H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),u=()=>{let[e,t]=(0,l.useState)(new c),[o,r]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),[x,f]=(0,l.useState)(!1),p=new a(o);return(0,l.useEffect)(()=>{f(!0),p.fetchCollection().then(e=>e.json()).then(e=>{t(e),f(!1),u(e.parent_collection)}).catch(e=>{console.log(e),alert(e)})},[o]),(0,n.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center py-2",children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"Videos"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("main",{className:"flex w-full flex-1 flex-col items-left justify-left px-2",children:[(0,n.jsx)("button",{type:"button",onClick:()=>r(d),children:"Back"}),(0,n.jsx)(i,{entry:e,setCurrentCollection:r,playVideo:p.playVideo})]}),(0,n.jsx)(h,{executeCommand:p.executeCommand})]})};var x=u},9008:function(e,t,o){e.exports=o(3121)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);